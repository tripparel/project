# 전체 프로그램 구조 흐름
---
# 1. 사용자 입력 및 조건 설정
#### 설명
* 사용자는 선호 카테고리, 시작 위치, 종료 위치를 입력합니다.
* 입력 UI는 Android의 Spinner(드롭다운) 및 RadioGroup으로 구성됩니다.
* 예:
  * 선호 카테고리: 빈티지, 캐주얼.
  * 시작 위치: 현재 위치(GPS) 또는 사용자 지정 위치.
  * 종료 위치: 설정하지 않음(기본) 또는 마지막 매장.
#### 구현
* Activity: RoutePreferencesActivity
* 주요 작업:
  1. Spinner를 사용하여 선호 카테고리를 선택.
  2. 시작/종료 위치를 RadioGroup으로 설정.
  3. 버튼 클릭 시 입력 데이터를 저장 및 처리.

---

# 2. JSON 데이터 로드 및 필터링
#### 설명
* stores.json 파일에서 매장 데이터를 로드.
* 사용자가 입력한 조건(선호 카테고리)에 따라 데이터를 필터링.
#### 구현
* Activity: RoutePreferencesActivity
* 주요 작업:
  1. JSON 데이터를 assets/stores.json에서 읽음.
  2. 매장의 category와 사용자 입력 카테고리를 비교하여 필터링.

---

# 3. 지도 초기화 및 마커 추가
#### 설명
* 필터링된 매장 데이터를 지도(TMapView)에 표시.
* 사용자가 입력한 시작/종료 위치도 마커로 추가.
####구현
* Activity: MainActivity
* 주요 작업:
  1. TMapView를 초기화.
  2. 필터링된 매장 데이터를 기반으로 지도에 마커 추가.
  3. 시작/종료 위치도 지도에 마커로 표시.

---

# 4. 경로 계산
#### 설명
* TMap API를 사용하여 경로를 계산.
* 시작 위치에서 종료 위치 또는 모든 매장을 포함하는 경로를 계산.
* 계산된 경로를 지도에 Polyline으로 표시.
####구현
* API 호출:
  * 엔드포인트: https://apis.openapi.sk.com/tmap/routes/pedestrian
  * 입력 파라미터:
    * startX, startY: 시작 위치.
    * endX, endY: 종료 위치.
    * reqCoordType: 요청 좌표 타입 (예: WGS84GEO).
    * resCoordType: 응답 좌표 타입 (예: EPSG3857).
  * 출력 데이터:
    * 총 거리 (totalDistance).
    * 예상 소요 시간 (totalTime).

---

# 5. 사용자 커스텀
#### 설명
* 경로에서 제외하고 싶은 매장을 선택.
* 제외된 매장을 제거한 뒤 경로를 다시 계산.
#### 구현
* Activity: MainActivity
* 주요 작업:
  1. 필터링된 매장 리스트를 보여줌.
  2. 사용자 입력에 따라 특정 매장을 제외.
  3. 제외된 매장을 반영한 새 경로를 계산 및 표시.

---

# 6. 최종 결과 표시
#### 설명
* 계산된 경로를 지도에 표시.
* 경로에 포함된 매장 정보를 리스트로 출력.
* 사용자가 최종 경로를 확인.
####구현
* Activity: MainActivity
* 주요 작업:
  1. 지도 위에 최종 경로 표시 (Polyline).
  2. 경로 리스트(매장 정보)를 UI로 출력.

---

# 전체 흐름 요약
```bash
1. 사용자 입력 처리: 선호 조건 입력 → 조건 데이터 수집.
2. JSON 데이터 필터링: 입력 조건 기반으로 매장 데이터 필터링.
3. 지도 초기화 및 마커 표시: 필터링된 매장 및 시작/종료 위치를 지도에 표시.
4. 경로 계산: TMap API를 통해 경로 및 예상 소요 시간 계산.
5. 사용자 커스터마이징: 특정 매장 제외 후 경로 재계산.
6. 최종 결과 표시: 지도에 경로를 표시하고 매장 리스트 출력.
```
